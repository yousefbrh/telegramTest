/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var t={529:(t,e,r)=>{"use strict";r.d(e,{Z:()=>mo});var n={VK:"vk",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",Y8:"y8",MOCK:"mock"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",IAP:"iap"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",IAP_STATE_CHANGED:"iap_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed",IAP_INFO_GETTED:"iap_info_getted"},a={VISIBLE:"visible",HIDDEN:"hidden"},u="closed",c="failed",s={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},l={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},f={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},p={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},y={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},h={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},d="initialize",m="authorize_player",v="add_to_home_screen",b="rate",g="set_leaderboard_score",_="get_leaderboard_score",S="get_leaderboard_entries",w={message:"Before using the SDK you must initialize it"},P={message:"Storage not supported"},E={message:"GameDistribution Game ID is undefined"},O={message:"Y8 Game ID is undefined"};function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:String(e)}function D(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function j(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,L(t,e,"set"),r),r}function I(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,L(t,e,"get"))}function L(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var R=new WeakMap,B=new WeakMap,N=new WeakMap;const C=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,R,{writable:!0,value:void 0}),D(this,B,{writable:!0,value:void 0}),D(this,N,{writable:!0,value:void 0}),j(this,R,new Promise((function(t,r){j(e,B,t),j(e,N,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return I(this,R)}},{key:"resolve",value:function(t){I(this,B).call(this,t)}},{key:"reject",value:function(t){I(this,N).call(this,t)}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var G=r(258),M=r.n(G);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H(n.key),n)}}function x(t,e,r){return(e=H(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(t){var e=function(t,e){if("object"!=F(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:String(e)}function V(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Y=new WeakMap,K=function(){function t(e){var r,n,o,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,"_isInitialized",!1),x(this,"_platformSdk",null),x(this,"_isPlayerAuthorized",!1),x(this,"_playerId",null),x(this,"_playerName",""),x(this,"_playerLogin",""),x(this,"_playerPhotos",""),x(this,"_visibilityState",null),x(this,"_localStorage",null),x(this,"_defaultStorageType",p.LOCAL_STORAGE),x(this,"_platformStorageCachedData",null),x(this,"_isBannerSupported",!1),x(this,"_interstitialState",null),x(this,"_iapState",null),x(this,"_rewardedState",null),x(this,"_bannerState",null),o={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=Y),n.set(r,o);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),e&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e)),axios.post("https://api.rubicon.im/api/profile/my-meta",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then((function(t){u._playerName=t.data.nickname,u._playerLogin=t.data.username,u._playerPhotos="https://api.rubicon.im/"+t.data.image})).catch((function(t){console.log(t),this._playerName="Player_"+floor(1e3*Math.random())+1,this._playerPhotos="https://api.rubicon.im/uploads/profile/default_profile.png"}))}var e,r;return e=t,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"iapState",get:function(){return this._iapState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return y.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return y.TABLET}return y.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(t){return Promise.resolve()}},{key:"authorizePlayer",value:function(t){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===p.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(t){return t===p.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(t,e){if(e===p.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(P)}return Promise.reject(P)}},{key:"setDataToStorage",value:function(t,e,r){if(r===p.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(P)}return Promise.reject(P)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===p.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(P)}return Promise.reject(P)}},{key:"showBanner",value:function(t){this._setBannerState(f.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(f.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(s.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(l.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(t){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardScore",value:function(t){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(t){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(t){return Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){"object"===F(e)&&(e=JSON.stringify(e)),this._localStorage.setItem(t,e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_gettedIAP",value:function(t,e){this.emit(i.IAP_INFO_GETTED,JSON.stringify({json:t,id:e}))}},{key:"_setIAPState",value:function(t){this._iapState===t&&t!==c||(this._iapState=t,this.emit(i.IAP_STATE_CHANGED,this._iapState))}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==s.FAILED||(this._interstitialState=t,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==l.FAILED||(this._rewardedState=t,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==f.FAILED||(this._bannerState=t,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new C;return V(this,Y)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return V(this,Y)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){V(this,Y)[t]&&(V(this,Y)[t].resolve(e),delete V(this,Y)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){V(this,Y)[t]&&(V(this,Y)[t].reject(e),delete V(this,Y)[t])}}])&&W(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();M().mixin(K.prototype);const U=K;var q=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))},J=function(){var t=arguments;return arguments.length<=0?Promise.resolve():new Promise((function(e){var r=setInterval((function(){for(var n=window,o=0;o<t.length;o++){var i=n[t[o]];if(!i)return;n=i}e(),clearInterval(r)}),100)}))};function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q(n.key),n)}}function Q(t){var e=function(t,e){if("object"!=Z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Z(e)?e:String(e)}function $(t,e,r){return e=nt(e),function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}(t,tt()?Reflect.construct(e,r||[],nt(t).constructor):e.apply(t,r))}function tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tt=function(){return!!t})()}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(){return rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},rt.apply(this,arguments)}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function it(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function at(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ut(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ct(t,e,"get"))}function ct(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var st=new WeakMap,lt=new WeakSet;function ft(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const pt=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return it(r=et(t=$(this,e,[].concat(i))),n=lt),n.add(r),function(t,e,r){it(t,e),e.set(t,{writable:!0,value:void 0})}(et(t),st),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var r=t.searchParams.get("language");try{r=parseInt(r)}catch(t){}switch(r){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return rt(nt(e.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):rt(nt(e.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){if(ut(this,st))switch(ut(this,st)){case"html5_ios":case"html5_android":case"html5_mobile":return y.MOBILE;case"web":return y.DESKTOP}return rt(nt(e.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===ut(this,st)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===y.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(d);if(!o){o=this._createPromiseDecorator(d);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=st,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,ct(e,r,"set"),n)),q("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){J("vkBridge").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){t._isBannerSupported=!0,t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName=e.first_name+" "+e.last_name,e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=p.PLATFORM_INTERNAL,t._resolvePromiseDecorator(d)}))}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(t){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===p.PLATFORM_INTERNAL||rt(nt(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===p.PLATFORM_INTERNAL||rt(nt(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===p.PLATFORM_INTERNAL?new Promise((function(e,r){var o=Array.isArray(t)?t:[t];n._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){for(var n=[],o=function(e){var o,i=r.keys.findIndex((function(r){return r.key===t[e]}));if(i<0)return n.push(null),0;if(""===r.keys[i].value)return n.push(null),0;try{o=JSON.parse(r.keys[i].value)}catch(t){o=r.keys[i].value}n.push(o)},i=0;i<t.length;i++)o(i);e(n)}else if(""!==r.keys[0].value){var a;try{a=JSON.parse(r.keys[0].value)}catch(t){a=r.keys[0].value}e(a)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?r(t.error_data.error_reason):r()}))})):rt(nt(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;if(n===p.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var i=[],a=0;a<t.length;a++){var u={key:t[a],value:r[a]};"string"!=typeof r[a]&&(u.value=JSON.stringify(r[a])),i.push(this._platformSdk.send("VKWebAppStorageSet",u))}return Promise.all(i)}var c={key:t,value:r};return"string"!=typeof r&&(c.value=JSON.stringify(r)),new Promise((function(t,e){o._platformSdk.send("VKWebAppStorageSet",c).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return rt(nt(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){if(r===p.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;o++)n.push(this.setDataToStorage(t[o],"",r));return Promise.all(n)}return this.setDataToStorage(t,"",r)}return rt(nt(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(f.SHOWN):e._setBannerState(f.FAILED)})).catch((function(t){e._setBannerState(f.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(f.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(s.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?s.CLOSED:s.FAILED)})).catch((function(){t._setInterstitialState(s.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(l.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(l.REWARDED),t._setRewardedState(l.CLOSED)):t._setRewardedState(l.FAILED)})).catch((function(){t._setRewardedState(l.FAILED)}))}))}},{key:"inviteFriends",value:function(){return at(this,lt,ft).call(this,"invite_friends","VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e),isNaN(e))?Promise.reject():at(this,lt,ft).call(this,"join_community","VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public"+e)}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),at(this,lt,ft).call(this,"share","VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),at(this,lt,ft).call(this,"create_post","VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?at(this,lt,ft).call(this,v,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return at(this,lt,ft).call(this,"add_to_favorites","VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),at(this,lt,ft).call(this,"show_leaderboard_native_popup","VKWebAppShowLeaderBoardBox",e)}}])&&X(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=vt(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vt(n.key),n)}}function vt(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yt(e)?e:String(e)}function bt(t,e,r){return e=wt(e),function(t,e){if(e&&("object"===yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _t(t)}(t,gt()?Reflect.construct(e,r||[],wt(t).constructor):e.apply(t,r))}function gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gt=function(){return!!t})()}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(){return St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},St.apply(this,arguments)}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pt(t,e)}function Et(t,e,r){Ot(t,e),e.set(t,r)}function Ot(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Dt(t,e,"set"),r),r}function At(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Tt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Dt(t,e,"get"))}function Dt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var jt=new WeakMap,It=new WeakMap,Lt=new WeakMap,Rt=new WeakSet;function Bt(t){var e=this;return new Promise((function(r){var n={scopes:!1};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode(),kt(e,It,t)})).finally((function(){r()}))}))}const Nt=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Ot(r=_t(t=bt(this,e,[].concat(i))),n=Rt),n.add(r),Et(_t(t),jt,{writable:!0,value:!1}),Et(_t(t),It,{writable:!0,value:null}),Et(_t(t),Lt,{writable:!0,value:null}),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():St(wt(e.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():St(wt(e.prototype),"platformTld",this)}},{key:"deviceType",get:function(){if(this._platformSdk)switch(this._platformSdk.deviceInfo.type){case y.DESKTOP:return y.DESKTOP;case y.MOBILE:return y.MOBILE;case y.TABLET:return y.TABLET;case y.TV:return y.TV}return St(wt(e.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return Tt(this,jt)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(d);return e||(e=this._createPromiseDecorator(d),q("https://yandex.ru/games/sdk/v2").then((function(){J("YaGames","init").then((function(){window.YaGames.init().then((function(e){t._platformSdk=e;var r=At(t,Rt,Bt).call(t),n=t._platformSdk.getStorage().then((function(e){t._localStorage=e})),o=t._platformSdk.shortcut.canShowPrompt().then((function(e){kt(t,jt,e.canShow)})),i=new Promise((function(t){setTimeout(t,1e3)})),a=Promise.race([o,i]),u=t._platformSdk.getLeaderboards().then((function(e){kt(t,Lt,e)}));t._isBannerSupported=!0;var c=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(f.SHOWN)}));Promise.all([r,n,a,u,c]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?p.PLATFORM_INTERNAL:p.LOCAL_STORAGE,t._resolvePromiseDecorator(d)}))}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var r;return t===h.GAME_READY?(null===(r=this._platformSdk.features.LoadingAPI)||void 0===r||r.ready(),Promise.resolve()):St(wt(e.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(m);return r||(r=this._createPromiseDecorator(m),this._isPlayerAuthorized?At(this,Rt,Bt).call(this,t).then((function(){e._resolvePromiseDecorator(m)})):this._platformSdk.auth.openAuthDialog().then((function(){At(e,Rt,Bt).call(e,t).then((function(){e._resolvePromiseDecorator(m)}))})).catch((function(t){e._rejectPromiseDecorator(m,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===p.PLATFORM_INTERNAL||St(wt(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===p.PLATFORM_INTERNAL?this._isPlayerAuthorized:St(wt(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===p.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else Tt(n,It)?Tt(n,It).getData().then((function(r){if(n._platformStorageCachedData=r,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])})).catch((function(t){r(t)})):r()})):St(wt(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;return n===p.PLATFORM_INTERNAL?new Promise((function(e,n){if(Tt(o,It)){var i=null!==o._platformStorageCachedData?dt({},o._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=r[a];else i[t]=r;Tt(o,It).setData(i).then((function(){o._platformStorageCachedData=i,e()})).catch((function(t){n(t)}))}else n()})):St(wt(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){var n=this;return r===p.PLATFORM_INTERNAL?new Promise((function(e,r){if(Tt(n,It)){var o=null!==n._platformStorageCachedData?dt({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];Tt(n,It).setData(o).then((function(){n._platformStorageCachedData=o,e()})).catch((function(t){r(t)}))}else r()})):St(wt(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showBanner",value:function(t){var e=this;this._platformSdk.adv.showBannerAdv().then((function(t){t.stickyAdvIsShowing?e._setBannerState(f.SHOWN):e._setBannerState(f.FAILED)})).catch((function(t){e._setBannerState(f.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(f.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(s.OPENED)},onClose:function(e){e?t._setInterstitialState(s.CLOSED):t._setInterstitialState(s.FAILED)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(l.OPENED)},onRewarded:function(){t._setRewardedState(l.REWARDED)},onClose:function(){t._setRewardedState(l.CLOSED)},onError:function(e){t._setRewardedState(l.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(v);return e||(e=this._createPromiseDecorator(v),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(v):t._resolvePromiseDecorator(v)})).catch((function(e){t._rejectPromiseDecorator(v,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(b);return e||(e=this._createPromiseDecorator(b),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(b):t._rejectPromiseDecorator(b)})).catch((function(e){t._rejectPromiseDecorator(b,e)})):t._rejectPromiseDecorator(b,e.reason)})).catch((function(e){t._rejectPromiseDecorator(b,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(Tt(this,Lt)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(g);return r||(r=this._createPromiseDecorator(g),"string"==typeof t.score&&(t.score=parseInt(t.score)),Tt(this,Lt).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(g)})).catch((function(t){e._rejectPromiseDecorator(g,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!Tt(this,Lt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(_);return r||(r=this._createPromiseDecorator(_),Tt(this,Lt).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(_,t.score)})).catch((function(t){e._rejectPromiseDecorator(_,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!Tt(this,Lt)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(S);if(!r){r=this._createPromiseDecorator(S);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),Tt(this,Lt).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(S,r)})).catch((function(t){e._rejectPromiseDecorator(S,t)}))}return r.promise}}])&&mt(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Mt(t){var e=function(t,e){if("object"!=Ct(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ct(e)?e:String(e)}const Ft=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=Mt(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&Gt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xt(n.key),n)}}function xt(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zt(e)?e:String(e)}function Ht(t,e,r){return e=Yt(e),function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vt()?Reflect.construct(e,r||[],Yt(t).constructor):e.apply(t,r))}function Vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vt=function(){return!!t})()}function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yt(t)}function Kt(t,e){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kt(t,e)}const Ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ht(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}(e,t),r=e,(n=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&Wt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function Zt(t){var e=function(t,e){if("object"!=qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:String(e)}function Xt(t,e,r){return e=$t(e),function(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qt()?Reflect.construct(e,r||[],$t(t).constructor):e.apply(t,r))}function Qt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qt=function(){return!!t})()}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}function te(t,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},te(t,e)}const ee=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&te(t,e)}(e,t),r=e,(n=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&Jt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oe(n.key),n)}}function oe(t){var e=function(t,e){if("object"!=re(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==re(e)?e:String(e)}function ie(t,e,r){return e=ue(e),function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,r||[],ue(t).constructor):e.apply(t,r))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ae=function(){return!!t})()}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}var se=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ie(this,e,[t]))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(t){return r.emit(i.VISIBILITY_STATE_CHANGED,t)})),r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(e,t),r=e,(n=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&ne(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);M().mixin(se.prototype);const le=se;function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ye(n.key),n)}}function ye(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fe(e)?e:String(e)}function he(t,e,r){return e=me(e),function(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}(t,de()?Reflect.construct(e,r||[],me(t).constructor):e.apply(t,r))}function de(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(de=function(){return!!t})()}function me(t){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},me(t)}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t,e){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},be(t,e)}function ge(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var _e=new WeakMap;const Se=function(t){function e(){var t,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=ve(t=he(this,e,[].concat(a))),o={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=_e),n.set(r,o),t}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}(e,t),r=e,(n=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n)}var o=e;o||(o=this.defaultType);var i=ge(this,_e)[o];return i&&void 0!==i[t]?Promise.resolve(i[t]):this._platformBridge.getDataFromStorage(t,o).then((function(e){return r._addToCache(o,t,e),e}))}},{key:"set",value:function(t,e,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(t,e,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(t,e,i).then((function(){return n._addToCache(i,t,e)}))}},{key:"delete",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.delete(t,n)}var o=e;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(t,o).then((function(){return r._deleteFromCache(o,t)}))}},{key:"_addToCache",value:function(t,e,r){if(ge(this,_e)[t]||(ge(this,_e)[t]=[]),Array.isArray(e))for(var n=0;n<e.length;n++)ge(this,_e)[t][e[n]]=r[e[n]];else ge(this,_e)[t][e]=r}},{key:"_deleteFromCache",value:function(t,e){if(ge(this,_e)[t])if(Array.isArray(e))for(var r=0;r<e.length;r++)delete ge(this,_e)[t][e[r]];else delete ge(this,_e)[t][e]}}])&&pe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ee(n.key),n)}}function Ee(t){var e=function(t,e){if("object"!=we(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:String(e)}function Oe(t,e){Ae(t,e),e.add(t)}function ke(t,e,r){Ae(t,e),e.set(t,r)}function Ae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Te(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function De(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Ie(t,e,"set"),r),r}function je(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ie(t,e,"get"))}function Ie(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Le="created",Re="completed",Be=new WeakMap,Ne=new WeakMap,Ce=new WeakMap,Ge=new WeakMap,Me=new WeakSet,Fe=new WeakSet,ze=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,Fe),Oe(this,Me),ke(this,Be,{writable:!0,value:0}),ke(this,Ne,{writable:!0,value:0}),ke(this,Ce,{writable:!0,value:Le}),ke(this,Ge,{writable:!0,value:0}),De(this,Be,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return je(this,Ce)}},{key:"start",value:function(){var t=this;switch(je(this,Ce)){case Le:case Re:De(this,Ne,je(this,Be)),Te(this,Me,We).call(this,"started"),De(this,Ge,setInterval((function(){De(t,Ne,je(t,Ne)-1),t.emit("time_left_changed",je(t,Ne)),je(t,Ne)<=0&&(Te(t,Fe,xe).call(t),Te(t,Me,We).call(t,Re))}),1e3))}}},{key:"stop",value:function(){Te(this,Fe,xe).call(this),Te(this,Me,We).call(this,"stopped")}}])&&Pe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function We(t){De(this,Ce,t),this.emit("state_changed",je(this,Ce))}function xe(){De(this,Ne,0),clearInterval(je(this,Ge))}M().mixin(ze.prototype);const He=ze;function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ke(n.key),n)}}function Ke(t){var e=function(t,e){if("object"!=Ve(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ve(e)?e:String(e)}function Ue(t,e,r){return e=Je(e),function(t,e){if(e&&("object"===Ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ze(t)}(t,qe()?Reflect.construct(e,r||[],Je(t).constructor):e.apply(t,r))}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qe=function(){return!!t})()}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(t)}function Ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function Qe(t,e){tr(t,e),e.add(t)}function $e(t,e,r){tr(t,e),e.set(t,r)}function tr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function er(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,or(t,e,"set"),r),r}function rr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function nr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,or(t,e,"get"))}function or(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var ir=new WeakMap,ar=new WeakMap,ur=new WeakSet,cr=new WeakSet,sr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qe(Ze(r=Ue(this,e,[t])),cr),Qe(Ze(r),ur),$e(Ze(r),ir,{writable:!0,value:void 0}),$e(Ze(r),ar,{writable:!0,value:60}),r._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(t){t===s.CLOSED&&nr(Ze(r),ar)>0&&rr(Ze(r),ur,lr).call(Ze(r)),r.emit(i.INTERSTITIAL_STATE_CHANGED,t)})),r._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(t){return r.emit(i.REWARDED_STATE_CHANGED,t)})),r._platformBridge.on(i.BANNER_STATE_CHANGED,(function(t){return r.emit(i.BANNER_STATE_CHANGED,t)})),r}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(e,t),r=e,(n=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return nr(this,ar)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return this.setMinimumDelayBetweenInterstitial(e)}var r=Ve(t),n=nr(this,ar);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t),isNaN(n))return}er(this,ar,n),nr(this,ir)&&(nr(this,ir).stop(),rr(this,ur,lr).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}if(this.bannerState)switch(this.bannerState){case f.LOADING:case f.SHOWN:return}this._platformBridge._setBannerState(f.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(f.FAILED)}},{key:"hideBanner",value:function(){if(this.bannerState)switch(this.bannerState){case f.LOADING:case f.HIDDEN:return}this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!rr(this,cr,fr).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(s.LOADING),!nr(this,ir)||nr(this,ir).state===Re||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(s.FAILED)}}},{key:"showRewarded",value:function(){rr(this,cr,fr).call(this)||(this._platformBridge._setRewardedState(l.LOADING),this._platformBridge.showRewarded())}}])&&Ye(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function lr(){er(this,ir,new He(nr(this,ar))),nr(this,ir).start()}function fr(){if(this.interstitialState)switch(this.interstitialState){case s.LOADING:case s.OPENED:return!0}if(this.rewardedState)switch(this.rewardedState){case l.LOADING:case l.OPENED:case l.REWARDED:return!0}return!1}M().mixin(sr.prototype);const pr=sr;function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dr(n.key),n)}}function dr(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yr(e)?e:String(e)}function mr(t,e,r){return e=br(e),function(t,e){if(e&&("object"===yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vr()?Reflect.construct(e,r||[],br(t).constructor):e.apply(t,r))}function vr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vr=function(){return!!t})()}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}const _r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mr(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(e,t),r=e,(n=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&hr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pr(n.key),n)}}function Pr(t){var e=function(t,e){if("object"!=Sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Sr(e)?e:String(e)}function Er(t,e,r){return e=kr(e),function(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Or()?Reflect.construct(e,r||[],kr(t).constructor):e.apply(t,r))}function Or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Or=function(){return!!t})()}function kr(t){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kr(t)}function Ar(t,e){return Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ar(t,e)}const Tr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Er(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ar(t,e)}(e,t),r=e,(n=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&wr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ir(n.key),n)}}function Ir(t){var e=function(t,e){if("object"!=Dr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dr(e)?e:String(e)}function Lr(t,e,r){return e=Br(e),function(t,e){if(e&&("object"===Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rr()?Reflect.construct(e,r||[],Br(t).constructor):e.apply(t,r))}function Rr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rr=function(){return!!t})()}function Br(t){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Br(t)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}const Cr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Lr(this,e,arguments)}var r,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(e,t),r=e,(n=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&jr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Mr(){Mr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),u=new j(n||[]);return o(a,"_invoke",{value:k(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",y="suspendedYield",h="executing",d="completed",m={};function v(){}function b(){}function g(){}var _={};s(_,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(I([])));w&&w!==r&&n.call(w,a)&&(_=w);var P=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Gr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=A(u,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:y,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function A(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gr(e)+" is not iterable")}return b.prototype=g,o(P,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(O.prototype),s(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),s(P,c,"Generator"),s(P,a,(function(){return this})),s(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Fr(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wr(n.key),n)}}function Wr(t){var e=function(t,e){if("object"!=Gr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gr(e)?e:String(e)}function xr(t,e,r){return e=Vr(e),function(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Hr()?Reflect.construct(e,r||[],Vr(t).constructor):e.apply(t,r))}function Hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hr=function(){return!!t})()}function Vr(t){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vr(t)}function Yr(t,e){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yr(t,e)}var Kr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=xr(this,e,[t]))._platformBridge.on(i.IAP_STATE_CHANGED,(function(t){return r.emit(i.IAP_STATE_CHANGED,t)})),r._platformBridge.on(i.IAP_INFO_GETTED,(function(t){return r.emit(i.IAP_INFO_GETTED,t)})),r}var r,n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(e,t),r=e,n=[{key:"tryIAP",value:(o=Mr().mark((function t(e){var r=this;return Mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),this._platformBridge._setIAPState("opened"),window.parent.buy__item(e).then((function(t){console.log("B = "+t),t?r._platformBridge._setIAPState("success"):r._platformBridge._setIAPState(c),r._platformBridge._setIAPState(u)})).catch((function(){console.log("ERROR BLYAT"),r._platformBridge._setIAPState(c),r._platformBridge._setIAPState(u)}));case 3:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){Fr(i,r,n,a,u,"next",t)}function u(t){Fr(i,r,n,a,u,"throw",t)}a(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"GetIAPData",value:function(t){var e=this;window.parent.item_info_by_id(t).then((function(r){e._platformBridge._gettedIAP(r,t)})).catch((function(){console.log("data ERRRORR")}))}}],n&&zr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(Ft);M().mixin(Kr.prototype);const Ur=Kr;function qr(t){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(t)}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zr(n.key),n)}}function Zr(t){var e=function(t,e){if("object"!=qr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qr(e)?e:String(e)}function Xr(t,e,r){return e=en(e),function(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}(t,Qr()?Reflect.construct(e,r||[],en(t).constructor):e.apply(t,r))}function Qr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qr=function(){return!!t})()}function $r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tn(){return tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=en(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tn.apply(this,arguments)}function en(t){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},en(t)}function rn(t,e){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rn(t,e)}function nn(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function on(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,un(t,e,"set"),r),r}function an(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,un(t,e,"get"))}function un(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var cn=new WeakMap,sn=new WeakMap;const ln=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return nn($r(t=Xr(this,e,[].concat(n))),cn,{writable:!0,value:null}),nn($r(t),sn,{writable:!0,value:!1}),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return an(this,cn)?an(this,cn).countryCode.toLowerCase():tn(en(e.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(an(this,cn))switch(an(this,cn).device.type.toLowerCase()){case y.DESKTOP:return y.DESKTOP;case y.MOBILE:return y.MOBILE;case y.TABLET:return y.TABLET}return tn(en(e.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(d);return e||(e=this._createPromiseDecorator(d),q("https://sdk.crazygames.com/crazygames-sdk-v1.js").then((function(){J("CrazyGames","CrazySDK","getInstance").then((function(){t._platformSdk=window.CrazyGames.CrazySDK.getInstance(),t._platformSdk.addEventListener("initialized",(function(e){on(t,cn,e.userInfo),t._isInitialized=!0,t._resolvePromiseDecorator(d)})),t._platformSdk.addEventListener("adStarted",(function(){an(t,sn)?t._setRewardedState(l.OPENED):t._setInterstitialState(s.OPENED)})),t._platformSdk.addEventListener("adFinished",(function(){an(t,sn)?(t._setRewardedState(l.REWARDED),t._setRewardedState(l.CLOSED)):t._setInterstitialState(s.CLOSED)})),t._platformSdk.addEventListener("adError",(function(){an(t,sn)?t._setRewardedState(l.FAILED):t._setInterstitialState(s.FAILED)})),t._platformSdk.addEventListener("bannerRendered",(function(e){t._setBannerState(f.SHOWN)})),t._platformSdk.addEventListener("bannerError",(function(e){t._setBannerState(f.FAILED)})),t._defaultStorageType=p.LOCAL_STORAGE,t._isBannerSupported=!0,t._platformSdk.init()}))}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case h.IN_GAME_LOADING_STARTED:return this._platformSdk.sdkGameLoadingStart(),Promise.resolve();case h.IN_GAME_LOADING_STOPPED:return this._platformSdk.sdkGameLoadingStop(),Promise.resolve();case h.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case h.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();case h.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.happytime(),Promise.resolve()}return tn(en(e.prototype),"sendMessage",this).call(this,t)}},{key:"showBanner",value:function(t){t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.requestResponsiveBanner([t.containerId]):this._setBannerState(f.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.clearAllBanners(),this._setBannerState(f.HIDDEN)}},{key:"showInterstitial",value:function(){on(this,sn,!1),this._platformSdk.requestAd("midgame")}},{key:"showRewarded",value:function(){on(this,sn,!0),this._platformSdk.requestAd("rewarded")}}])&&Jr(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function pn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=dn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dn(n.key),n)}}function dn(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fn(e)?e:String(e)}function mn(t,e,r){return e=_n(e),function(t,e){if(e&&("object"===fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bn(t)}(t,vn()?Reflect.construct(e,r||[],_n(t).constructor):e.apply(t,r))}function vn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vn=function(){return!!t})()}function bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gn(){return gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},gn.apply(this,arguments)}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}var wn=new WeakSet;function Pn(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r,n){if(r&&1===r.length){var o=r[0];t._playerName=o.full_name,""!==o.avatar&&(t._playerPhotos=[o.avatar])}e()}))}))}const En=function(t){function e(){var t,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=bn(t=mn(this,e,[].concat(i))),n=wn),n.add(r),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(d);return e||(e=this._createPromiseDecorator(d),q("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new AgRuSdk,t._platformSdk.on(AgRuSdkMethods.ShowCampaign,(function(e,r){switch(e.type){case"default":null===r?e.status?t._setInterstitialState(s.OPENED):t._setInterstitialState(s.CLOSED):t._setInterstitialState(s.FAILED);break;case"rewarded":null===r?e.status?t._setRewardedState(l.OPENED):(e.reward&&t._setRewardedState(l.REWARDED),t._setRewardedState(l.CLOSED)):t._setRewardedState(l.FAILED)}}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,wn,Pn).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?p.PLATFORM_INTERNAL:p.LOCAL_STORAGE,t._resolvePromiseDecorator(d)}))}))),e.promise}},{key:"authorizePlayer",value:function(t){var e=this;if(this._isPlayerAuthorized)return Promise.resolve();var r=this._getPromiseDecorator(m);return r||(r=this._createPromiseDecorator(m),this._platformSdk.authorize((function(t,r){null===r?e._resolvePromiseDecorator(m):e._rejectPromiseDecorator(m,r)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===p.PLATFORM_INTERNAL||gn(_n(e.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===p.PLATFORM_INTERNAL?this._isPlayerAuthorized:gn(_n(e.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,r){var n=this;return r===p.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n._platformStorageCachedData[t[i]]?null:n._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else n._isPlayerAuthorized?n._platformSdk.getSaveData((function(o,i){if(null===i){if(null===o&&(o={}),n._platformStorageCachedData=o,Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var c=void 0===n._platformStorageCachedData[t[u]]?null:n._platformStorageCachedData[t[u]];a.push(c)}return void e(a)}e(void 0===n._platformStorageCachedData[t]?null:n._platformStorageCachedData[t])}else r(i)})):r()})):gn(_n(e.prototype),"getDataFromStorage",this).call(this,t,r)}},{key:"setDataToStorage",value:function(t,r,n){var o=this;return n===p.PLATFORM_INTERNAL?new Promise((function(e,n){if(o._isPlayerAuthorized){var i=null!==o._platformStorageCachedData?yn({},o._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=r[a];else i[t]=r;o._platformSdk.setSaveData(i,(function(t,r){null===r&&(o._platformStorageCachedData=i,e()),n(r)}))}else n()})):gn(_n(e.prototype),"setDataToStorage",this).call(this,t,r,n)}},{key:"deleteDataFromStorage",value:function(t,r){var n=this;return r===p.PLATFORM_INTERNAL?new Promise((function(e,r){if(n._isPlayerAuthorized){var o=null!==n._platformStorageCachedData?yn({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];n._platformSdk.setSaveData(o,(function(t,i){null===i&&(n._platformStorageCachedData=o,e()),r(i)}))}else r()})):gn(_n(e.prototype),"deleteDataFromStorage",this).call(this,t,r)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&hn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,An(n.key),n)}}function An(t){var e=function(t,e){if("object"!=On(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==On(e)?e:String(e)}function Tn(t,e,r){return e=jn(e),function(t,e){if(e&&("object"===On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}(t,Dn()?Reflect.construct(e,r||[],jn(t).constructor):e.apply(t,r))}function Dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dn=function(){return!!t})()}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(t,e)}function Rn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Nn(t,e,"set"),r),r}function Bn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Nn(t,e,"get"))}function Nn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Cn=new WeakMap;const Gn=function(t){function e(){var t,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=In(t=Tn(this,e,[].concat(a))),o={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=Cn),n.set(r,o),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(d);if(!t)if(t=this._createPromiseDecorator(d),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(d);break;case"SDK_GAME_START":Bn(e,Cn)?e._setRewardedState(l.CLOSED):e._setInterstitialState(s.CLOSED);break;case"SDK_GAME_PAUSE":Bn(e,Cn)?e._setRewardedState(l.OPENED):e._setInterstitialState(s.OPENED);break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(l.REWARDED)}}},this._defaultStorageType=p.LOCAL_STORAGE,this._isBannerSupported=!0,q("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(d,E);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(f.SHOWN)})).catch((function(t){e._setBannerState(f.FAILED)})):this._setBannerState(f.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(f.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;Rn(this,Cn,!1),this._platformSdk?this._platformSdk.showAd().catch((function(e){t._setInterstitialState(s.FAILED)})):this._setInterstitialState(s.FAILED)}},{key:"showRewarded",value:function(){var t=this;Rn(this,Cn,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(e){t._setRewardedState(l.FAILED)})):this._setRewardedState(l.FAILED)}}])&&kn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zn(n.key),n)}}function zn(t){var e=function(t,e){if("object"!=Mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mn(e)?e:String(e)}function Wn(t,e,r){return e=Hn(e),function(t,e){if(e&&("object"===Mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vn(t)}(t,xn()?Reflect.construct(e,r||[],Hn(t).constructor):e.apply(t,r))}function xn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xn=function(){return!!t})()}function Hn(t){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hn(t)}function Vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yn(t,e){return Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yn(t,e)}function Kn(t,e,r){var n=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.get(t)}(t,e);return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,n,r),r}var Un=new WeakMap;const qn=function(t){function e(){var t,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=Vn(t=Wn(this,e,[].concat(a))),o={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=Un),n.set(r,o),t}var r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yn(t,e)}(e,t),r=e,(o=[{key:"platformId",get:function(){return n.Y8}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(d);return e||(e=this._createPromiseDecorator(d),q("https://cdn.y8.com/api/sdk.js").then((function(){t._options&&"string"==typeof t._options.gameId?(window.idAsyncInit=function(){ID.init({appId:this._options.gameId}),ID.Event.subscribe("id.init",(function(){ID.ads.init(this._options.gameId)}))},t._defaultStorageType=p.LOCAL_STORAGE):t._rejectPromiseDecorator(d,O)}))),e.promise}},{key:"showInterstitial",value:function(){Kn(this,Un,!1),ID?ID.ads.display((function(){this._setInterstitialState(s.CLOSED)})):this._setInterstitialState(s.FAILED)}},{key:"showRewarded",value:function(){Kn(this,Un,!0),ID?ID.ads.display((function(){this._setInterstitialState(l.REWARDED)})):this._setRewardedState(l.FAILED)}}])&&Fn(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(U);function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Zn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qn(n.key),n)}}function Qn(t){var e=function(t,e){if("object"!=Jn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Jn(e)?e:String(e)}function $n(t,e){eo(t,e),e.add(t)}function to(t,e,r){eo(t,e),e.set(t,r)}function eo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ro(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,io(t,e,"set"),r),r}function no(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function oo(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,io(t,e,"get"))}function io(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}t=r.hmd(t);var ao=new WeakMap,uo=new WeakMap,co=new WeakMap,so=new WeakMap,lo=new WeakMap,fo=new WeakSet,po=new WeakSet;function yo(){var t=n.MOCK,e=new URL(window.location.href);if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:t=n.VK;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION;break;case n.Y8:t=n.Y8}else{var r=["y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(r)||e.hash.includes("yandex")?t=n.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?t=n.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?t=n.GAME_DISTRIBUTION:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?t=n.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")?t=n.ABSOLUTE_GAMES:e.searchParams.has("key")&&e.searchParams.has("value")&&(t=n.Y8)}switch(t){case n.VK:ro(this,co,new pt(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.YANDEX:ro(this,co,new Nt(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:ro(this,co,new ln(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:ro(this,co,new En(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:ro(this,co,new Gn(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.Y8:this._options.platforms[n.Y8]={gameId:e.searchParams.get("key")},ro(this,co,new qn(this._options&&this._options.platforms&&this._options.platforms[n.Y8]));break;case n.MOCK:ro(this,co,new U)}}function ho(t){return oo(this,ao)||console.error(w),oo(this,lo)[t]?oo(this,lo)[t]:oo(this,so)[t]}const mo=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$n(this,po),$n(this,fo),to(this,ao,{writable:!0,value:!1}),to(this,uo,{writable:!0,value:null}),to(this,co,{writable:!0,value:null}),to(this,so,{writable:!0,value:{}}),to(this,lo,{writable:!0,value:{}})}var r,u;return r=e,u=[{key:"version",get:function(){return"1.9.2"}},{key:"isInitialized",get:function(){return oo(this,ao)}},{key:"platform",get:function(){return no(this,po,ho).call(this,o.PLATFORM)}},{key:"player",get:function(){return no(this,po,ho).call(this,o.PLAYER)}},{key:"game",get:function(){return no(this,po,ho).call(this,o.GAME)}},{key:"storage",get:function(){return no(this,po,ho).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return no(this,po,ho).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return no(this,po,ho).call(this,o.SOCIAL)}},{key:"device",get:function(){return no(this,po,ho).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return no(this,po,ho).call(this,o.LEADERBOARD)}},{key:"iap",get:function(){return no(this,po,ho).call(this,o.IAP)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return h}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return s}},{key:"REWARDED_STATE",get:function(){return l}},{key:"BANNER_STATE",get:function(){return f}},{key:"STORAGE_TYPE",get:function(){return p}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return y}},{key:"initialize",value:function(t){var e=this;return oo(this,ao)?Promise.resolve():(oo(this,uo)||(ro(this,uo,new C),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Qn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),no(this,fo,yo).call(this),oo(this,co).initialize().then((function(){oo(e,so)[o.PLATFORM]=new Ut(oo(e,co)),oo(e,so)[o.PLAYER]=new ee(oo(e,co)),oo(e,so)[o.GAME]=new le(oo(e,co)),oo(e,so)[o.STORAGE]=new Se(oo(e,co)),oo(e,so)[o.ADVERTISEMENT]=new pr(oo(e,co)),oo(e,so)[o.SOCIAL]=new _r(oo(e,co)),oo(e,so)[o.DEVICE]=new Tr(oo(e,co)),oo(e,so)[o.LEADERBOARD]=new Cr(oo(e,co)),oo(e,so)[o.IAP]=new Ur(oo(e,co)),ro(e,ao,!0),oo(e,uo)&&(oo(e,uo).resolve(),ro(e,uo,null))}))),oo(this,uo).promise)}},{key:"overrideModule",value:function(e,r){"object"===Jn(r)&&(oo(this,lo)[e]=r,"function"==typeof r.initialize&&r.initialize(t))}}],u&&Xn(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),e}()},258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(529);window.instantGamesBridge=window.bridge=new t.Z})()})();
